plugins {
  id "org.jetbrains.intellij" version "0.3.2"
}

//apply plugin: 'org.jetbrains.intellij'
apply plugin: "kotlin"

sourceSets {
	main.kotlin.srcDirs += "src"
	main.resources.srcDirs += "resources"
	test.kotlin.srcDirs += "test"
}

intellij {
	version "IC-2017.2.5"
	plugins = ['kotlin']
	pluginName 'ktor'
	plugins 'coverage'
	downloadSources true
}

//publishPlugin {
//	if (globalProps.jetbrainsUsername != null) {
//		username globalProps.jetbrainsUsername
//		password globalProps.jetbrainsPassword
//	}
//}

runIde {
	maxHeapSize = "2g"
}

repositories {
	jcenter()
}

dependencies {
	compile project(":ktor-generator-jvm")
	compile "org.jetbrains.kotlinx:kotlinx-coroutines-core:0.22.5"
}
